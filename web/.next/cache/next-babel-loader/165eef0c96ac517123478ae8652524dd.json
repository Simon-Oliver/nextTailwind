{"ast":null,"code":"// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nvar QRCode = require('qrcode');\n\nexport default ((req, res) => {\n  res.statusCode = 200;\n  const {\n    email,\n    password\n  } = JSON.parse(req.body);\n\n  try {\n    console.log(checkAuth(email, password));\n    res.json(checkAuth(email, password));\n  } catch (e) {\n    res.status(e.status).json(e);\n  }\n});\n\nconst checkAuth = (email, pw) => {\n  var resObj = {\n    auth: false,\n    status: 0,\n    message: \"\"\n  };\n\n  if (email == \"test@test.com\" && pw == \"123\") {\n    resObj.auth = true;\n    resObj.status = 200;\n    QRCode.toDataURL('I am a pony!', function (err, url) {\n      console.log(url);\n      resObj.code = `${url}`;\n      return resObj;\n    });\n  } else {\n    resObj.message = \"Username or password incorrect\";\n    resObj.status = 401;\n    throw resObj;\n  }\n};","map":{"version":3,"sources":["/Users/simon.stauffer/Desktop/Coding/nextjs-test/pages/api/hello.js"],"names":["QRCode","require","req","res","statusCode","email","password","JSON","parse","body","console","log","checkAuth","json","e","status","pw","resObj","auth","message","toDataURL","err","url","code"],"mappings":"AAAA;AACA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAApB;;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BA,EAAAA,GAAG,CAACC,UAAJ,GAAiB,GAAjB;AACA,QAAM;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR,MAAoBC,IAAI,CAACC,KAAL,CAAWN,GAAG,CAACO,IAAf,CAA1B;;AACF,MAAG;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAYC,SAAS,CAACP,KAAD,EAAQC,QAAR,CAArB;AACAH,IAAAA,GAAG,CAACU,IAAJ,CAASD,SAAS,CAACP,KAAD,EAAQC,QAAR,CAAlB;AAED,GAJD,CAIE,OAAMQ,CAAN,EAAQ;AACRX,IAAAA,GAAG,CAACY,MAAJ,CAAWD,CAAC,CAACC,MAAb,EAAqBF,IAArB,CAA0BC,CAA1B;AACD;AAGA,CAZD;;AAeA,MAAMF,SAAS,GAAG,CAACP,KAAD,EAAQW,EAAR,KAAe;AAC/B,MAAIC,MAAM,GAAG;AACXC,IAAAA,IAAI,EAAE,KADK;AAEXH,IAAAA,MAAM,EAAE,CAFG;AAGXI,IAAAA,OAAO,EAAE;AAHE,GAAb;;AAKA,MAAGd,KAAK,IAAI,eAAT,IAA4BW,EAAE,IAAI,KAArC,EAA2C;AACzCC,IAAAA,MAAM,CAACC,IAAP,GAAc,IAAd;AACAD,IAAAA,MAAM,CAACF,MAAP,GAAgB,GAAhB;AACAf,IAAAA,MAAM,CAACoB,SAAP,CAAiB,cAAjB,EAAiC,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACnDZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACAL,MAAAA,MAAM,CAACM,IAAP,GAAe,GAAED,GAAI,EAArB;AACA,aAAOL,MAAP;AACD,KAJD;AAMD,GATD,MASM;AACJA,IAAAA,MAAM,CAACE,OAAP,GAAiB,gCAAjB;AACAF,IAAAA,MAAM,CAACF,MAAP,GAAgB,GAAhB;AACA,UAAME,MAAN;AACD;AACF,CApBD","sourcesContent":["// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nvar QRCode = require('qrcode')\n\nexport default (req, res) => {\n  res.statusCode = 200\n  const {email, password} = JSON.parse(req.body);\ntry{\n  console.log(checkAuth(email, password))\n  res.json(checkAuth(email, password));\n  \n} catch(e){\n  res.status(e.status).json(e);\n}\n\n  \n}\n\n\nconst checkAuth = (email, pw) => {\n  var resObj = {\n    auth: false,\n    status: 0,\n    message: \"\"\n  }\n  if(email == \"test@test.com\" && pw == \"123\"){\n    resObj.auth = true;\n    resObj.status = 200;\n    QRCode.toDataURL('I am a pony!', function (err, url) {\n      console.log(url)\n      resObj.code = `${url}`\n      return resObj;\n    })\n    \n  } else{\n    resObj.message = \"Username or password incorrect\"\n    resObj.status = 401;\n    throw resObj;\n  }\n}"]},"metadata":{},"sourceType":"module"}